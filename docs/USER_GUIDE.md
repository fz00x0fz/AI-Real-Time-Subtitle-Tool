# 用户使用指南

> 适用于打包版本的用户

## 👋 欢迎

感谢使用AI实时字幕工具！本指南将帮助你快速上手。

## 📦 获取应用

### 下载

从以下渠道获取应用：
- GitHub Releases
- 网盘分享链接
- 其他分发渠道

### 解压

将 `AI实时字幕_便携版.zip` 解压到任意目录，例如：
```
C:\Program Files\AI实时字幕\
```

或

```
D:\软件\AI实时字幕\
```

## 🚀 首次使用

### 步骤1: 运行配置向导

双击 `配置向导.bat`

你会看到：
```
========================================
   AI实时字幕 - 快速配置向导
========================================

请选择AI服务：

1. 阿里云百炼 (推荐，国内访问快)
2. OpenAI Whisper
3. Azure Speech
4. 本地Whisper (需要GPU)

请输入选项 (1-4):
```

### 步骤2: 选择AI服务

**推荐选择 1 - 阿里云百炼**（国内用户）

输入 `1` 并按回车。

### 步骤3: 获取API密钥

配置向导会提示你：

1. 访问 https://dashscope.aliyun.com/
2. 注册/登录阿里云账号
3. 点击"立即开通"百炼服务
4. 进入"API-KEY管理"
5. 创建新的API-KEY
6. 复制API Key（格式：`sk-xxxxx...`）

### 步骤4: 填写配置

配置向导会自动打开 `.env` 文件，找到：

```env
ALIYUN_API_KEY=your_aliyun_api_key_here
```

将 `your_aliyun_api_key_here` 替换为你的API Key：

```env
ALIYUN_API_KEY=sk-实际的密钥内容
```

保存并关闭文件。

### 步骤5: 启用音频捕获

**重要**: 需要启用Windows的"立体声混音"功能

1. 右键点击任务栏右下角的**音量图标**
2. 选择**声音设置**
3. 向下滚动，点击**声音控制面板**
4. 切换到**录制**选项卡
5. 右键空白处，勾选**显示已禁用的设备**
6. 找到**立体声混音**或**Stereo Mix**
7. 右键点击，选择**启用**

### 步骤6: 启动应用

双击 `AI实时字幕.exe`

应用启动后，你会看到浮动字幕窗口。

## 🎮 日常使用

### 启动应用

双击 `AI实时字幕.exe`

### 开始捕获

1. 点击窗口上的 **▶ 开始** 按钮
2. 状态变为"● 录音中"（绿色）
3. 播放任何音频或视频
4. 字幕会实时显示在窗口中

### 停止捕获

点击 **■ 停止** 按钮

### 移动窗口

用鼠标左键拖动窗口到任意位置

### 关闭应用

点击右上角的 **✕** 按钮

## 💡 使用技巧

### 技巧1: 窗口位置

将窗口拖到屏幕底部，作为字幕显示：
```
┌────────────────────────────┐
│                            │
│      视频播放区域           │
│                            │
├────────────────────────────┤
│  [AI实时字幕窗口]          │
└────────────────────────────┘
```

### 技巧2: 调整透明度

编辑 `.env` 文件：
```env
WINDOW_OPACITY=0.9  # 更不透明
WINDOW_OPACITY=0.7  # 更透明
```

### 技巧3: 调整字体大小

编辑 `.env` 文件：
```env
FONT_SIZE=28  # 更大
FONT_SIZE=20  # 更小
```

### 技巧4: 提高识别准确率

编辑 `.env` 文件：
```env
CHUNK_DURATION=4  # 增加音频块时长
```

### 技巧5: 降低延迟

编辑 `.env` 文件：
```env
CHUNK_DURATION=2  # 减小音频块时长
```

## 🎯 使用场景

### 场景1: 观看视频

1. 启动应用
2. 点击"开始"
3. 播放视频
4. 实时字幕显示

### 场景2: 视频会议

1. 启动应用
2. 加入会议
3. 点击"开始"
4. 会议内容实时转文字

### 场景3: 在线课程

1. 打开课程视频
2. 启动应用
3. 点击"开始"
4. 课程内容实时字幕

## ⚙️ 配置说明

### 配置文件位置

`.env` 文件在应用目录下

### 常用配置

```env
# AI服务选择
AI_SERVICE=aliyun

# 阿里云配置
ALIYUN_API_KEY=sk-your-key
ALIYUN_MODEL=paraformer-realtime-v2

# 音频设置
SAMPLE_RATE=16000
CHUNK_DURATION=3

# UI设置
WINDOW_WIDTH=800
WINDOW_HEIGHT=120
WINDOW_OPACITY=0.85
FONT_SIZE=24
```

### 切换AI服务

**使用OpenAI**:
```env
AI_SERVICE=openai
OPENAI_API_KEY=sk-your-openai-key
```

**使用Azure**:
```env
AI_SERVICE=azure
AZURE_SPEECH_KEY=your-azure-key
AZURE_SPEECH_REGION=eastus
```

## ❓ 常见问题

### Q1: 没有字幕显示？

**检查清单**:
- [ ] 已启用"立体声混音"
- [ ] 音频正在播放
- [ ] 点击了"开始"按钮
- [ ] API密钥配置正确

**解决方法**:
1. 检查音频设备设置
2. 确认音频正在播放
3. 查看控制台错误信息

### Q2: API调用失败？

**可能原因**:
- API密钥错误
- 网络连接问题
- API额度用完

**解决方法**:
1. 检查 `.env` 中的API密钥
2. 测试网络连接
3. 检查API账户余额

### Q3: 识别不准确？

**优化方法**:
```env
# 增加音频块时长
CHUNK_DURATION=4

# 使用高精度模型
ALIYUN_MODEL=paraformer-v2
```

### Q4: 延迟太高？

**优化方法**:
```env
# 减小音频块时长
CHUNK_DURATION=2

# 使用实时模型
ALIYUN_MODEL=paraformer-realtime-v2
```

### Q5: 程序无法启动？

**解决方法**:
1. 安装 [VC++ Redistributable](https://aka.ms/vs/17/release/vc_redist.x64.exe)
2. 以管理员身份运行
3. 检查杀毒软件是否拦截

### Q6: 中英文混合识别不准？

**解决方法**:
```env
# 使用多语言模型
ALIYUN_MODEL=paraformer-mtl-v2
```

## 💰 费用说明

### 阿里云百炼

- **免费额度**: 新用户有免费试用
- **按量计费**: 约 ¥0.003-0.005/分钟
- **示例**: 每天使用1小时，月费用约 ¥5-10

### 费用控制

1. 在阿里云控制台设置费用预警
2. 不使用时及时停止录音
3. 增加 `CHUNK_DURATION` 减少API调用

## 🔒 隐私说明

### 数据处理

- 音频数据仅发送到选择的AI服务
- 不会保存到本地
- 不会发送到其他服务器

### API密钥安全

- API密钥保存在本地 `.env` 文件
- 不要分享 `.env` 文件
- 定期更换API密钥

## 📞 获取帮助

### 查看文档

- `README.md` - 完整文档
- `使用说明.txt` - 快速说明
- `QUICKSTART_ALIYUN.md` - 阿里云配置

### 在线资源

- 阿里云文档: https://help.aliyun.com/zh/dashscope/
- 项目主页: [GitHub链接]

### 反馈问题

- 提交Issue
- 邮件联系
- 社区讨论

## 🎉 开始使用

现在你已经了解了所有基础知识，开始享受实时字幕吧！

**快速回顾**:
1. ✅ 运行配置向导
2. ✅ 填写API密钥
3. ✅ 启用立体声混音
4. ✅ 启动应用
5. ✅ 点击"开始"

**祝你使用愉快！** 🚀

---

**提示**: 如有问题，请先查看"常见问题"部分。
